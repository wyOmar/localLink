<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LocalLink Broadcaster</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Load Socket.IO client from CDN -->
    <script src="https://cdn.socket.io/4.5.1/socket.io.min.js"></script>
  </head>
  <body>
    <header>
      <a href="/" class="app-logo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M13 19h-2v-8H5v8H3V5h2v4h6V5h2v14zm8-4h-5v2h5v2H9v-6h7v-2H9V9h12v6z"
          />
        </svg>
        <span>LocalLink</span>
      </a>
    </header>

    <main class="container">
      <div class="card">
        <h1 class="app-title mb-2">Broadcaster</h1>
        <p class="mb-4">
          Share your screen or audio with anyone on your local network.
        </p>

        <div id="status-container" class="status-indicator mb-4">
          <span class="dot"></span>
          <span id="status">Ready to broadcast</span>
        </div>

        <!-- Viewer count display -->
        <div id="viewerCountDisplay" class="mb-4">
          Viewers: <span id="viewerCount">0</span>
        </div>

        <div class="mb-4">
          <label for="resolutionSelect">Select Resolution:</label>
          <select id="resolutionSelect" class="w-full">
            <option value="audioOnly">Audio Only (lowest bandwidth)</option>
            <option value="720p">720p</option>
            <option value="1080p" selected>1080p (recommended)</option>
            <option value="1440p">1440p</option>
            <option value="4k">4K (high bandwidth)</option>
          </select>
        </div>

        <div class="button-group">
          <button id="startButton" class="button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2"
            >
              <circle cx="12" cy="12" r="10" />
              <circle cx="12" cy="12" r="3" />
            </svg>
            Go Live
          </button>
          <button id="stopButton" class="button danger" disabled>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2"
            >
              <rect x="6" y="6" width="12" height="12" rx="2" ry="2" />
            </svg>
            Stop Broadcast
          </button>
        </div>
      </div>
    </main>

    <!-- Load the external broadcaster script -->
    <script src="broadcaster.js"></script>
  </body>
</html>
